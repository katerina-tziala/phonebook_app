{"version":3,"sources":["components/Filter.js","components/Button.js","components/Person.js","components/Persons.js","components/PersonForm.js","components/Notification.js","services/phonebookService.js","App.js","index.js"],"names":["Filter","props","value","filter","onChange","handleFilterChange","Button","onClick","handleClick","text","Person","person","deletePerson","name","number","id","Persons","persons","map","key","PersonForm","onSubmit","submission","newName","nameChange","newNumber","numberChange","type","disabled","isDisabled","Notification","notification","className","message","baseUrl","axios","get","then","response","data","newObject","post","delete","put","App","useState","setPersons","setNewName","setNewNumber","setFilter","undefined","setNotification","notify","setTimeout","useEffect","phoneBookService","initialPersons","isBlank","str","test","personName","toLowerCase","getNotificationError","getNotificationSuccess","createPerson","newPerson","trim","addedPerson","concat","catch","error","updatePerson","changedPerson","event","target","preventDefault","find","window","confirm","newPersonsList","includes","sort","personA","personB","filterPersons","personToDelete","ReactDOM","render","document","getElementById"],"mappings":"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","file":"static/js/main.1178bf05.chunk.js","sourcesContent":["import React from 'react';\r\n\r\nconst Filter = (props) => {\r\n    return (\r\n        <>\r\n            <span>filter shown with: </span>\r\n            <input value={props.filter} onChange={props.handleFilterChange} />\r\n        </>\r\n    );\r\n};\r\n\r\nexport default Filter;","import React from 'react';\r\n\r\nconst Button = (props) => (\r\n    <button onClick={props.handleClick}>\r\n        {props.text}\r\n    </button>\r\n);\r\n\r\nexport default Button;","import React from 'react';\r\nimport Button from './Button';\r\n\r\nconst Person = ({ person , deletePerson }) => {\r\n    return (\r\n        <div>\r\n            <span>{person.name}  {person.number}</span>\r\n            <Button handleClick={() => deletePerson(person.id)} text='delete' />\r\n        </div>\r\n    );\r\n};\r\n\r\nexport default Person;","import React from 'react';\r\nimport Person from './Person';\r\n\r\nconst Persons = ({ persons, deletePerson }) => {\r\n    const displayPersons = () => persons.map(person => <Person key={person.id} person={person} deletePerson={deletePerson} />);\r\n    return (\r\n        <div>\r\n            {displayPersons()}\r\n        </div>\r\n    );\r\n};\r\n\r\nexport default Persons;","import React from 'react';\r\n\r\nconst PersonForm = (props) => {\r\n    return (\r\n        <form onSubmit={props.submission}>\r\n            <div>\r\n                <span>name: </span>\r\n                <input value={props.newName} onChange={props.nameChange} />\r\n            </div>\r\n            <div>\r\n                <span>number: </span>\r\n                <input value={props.newNumber} onChange={props.numberChange} />\r\n            </div>\r\n            <div>\r\n                <button type=\"submit\" disabled={props.isDisabled}>add</button>\r\n            </div>\r\n        </form>\r\n    );\r\n};\r\n\r\nexport default PersonForm;","import React from 'react';\r\n\r\nconst Notification = ({ notification }) => {\r\n    if (!notification) {\r\n        return null;\r\n    }\r\n    const className = `notification notification--${notification.type}`;\r\n    return (\r\n        <p className={className}>{notification.message}</p>\r\n    );\r\n};\r\n\r\nexport default Notification;","import axios from 'axios';\r\nconst baseUrl = '/api/persons';\r\n\r\nconst getAll = () => {\r\n    const request = axios.get(baseUrl);\r\n    return request.then(response => response.data);\r\n};\r\n\r\nconst create = newObject => {\r\n    const request = axios.post(baseUrl, newObject);\r\n    return request.then(response => response.data);\r\n};\r\n\r\nconst deletePerson = id => {\r\n    const request = axios.delete(`${baseUrl}/${id}`);\r\n    return request.then(response => response);\r\n};\r\n\r\nconst update = (id, newObject) => {\r\n    const request = axios.put(`${baseUrl}/${id}`, newObject);\r\n    return request.then(response => response.data);\r\n};\r\n\r\nexport default { getAll, create, deletePerson, update };","import React, { useState, useEffect } from 'react';\r\nimport Filter from './components/Filter';\r\nimport Persons from './components/Persons';\r\nimport PersonForm from './components/PersonForm';\r\nimport Notification from './components/Notification';\r\nimport phoneBookService from './services/phonebookService';\r\n\r\nconst App = () => {\r\n    const [persons, setPersons] = useState([]);\r\n    const [newName, setNewName] = useState('');\r\n    const [newNumber, setNewNumber] = useState('');\r\n    const [filter, setFilter] = useState('');\r\n    const [notification, setNotification] = useState(undefined);\r\n\r\n    const notify = (notification) => {\r\n        setNotification(notification);\r\n        setTimeout(() => setNotification(undefined), 5000);\r\n    };\r\n\r\n    useEffect(() => {\r\n        phoneBookService.getAll().then(initialPersons => setPersons(initialPersons));\r\n    }, []);\r\n\r\n    const handleFilterChange = (event) => setFilter(event.target.value);\r\n    const handleNewNameChange = (event) => setNewName(event.target.value);\r\n    const handleNewNumberChange = (event) => setNewNumber(event.target.value);\r\n\r\n    const isBlank = (str) => !str || /^\\s*$/.test(str);\r\n    const personName = (person) => person.name.toLowerCase();\r\n\r\n    const filterPersons = () => {\r\n        let newPersonsList = [...persons];\r\n        if (!isBlank(filter)) {\r\n            newPersonsList = [...persons].filter(person => personName(person).includes(filter.toLowerCase()));\r\n        }\r\n        return newPersonsList.sort((personA, personB) => (personName(personA) < personName(personB)) ? -1 : (personName(personA) > personName(personB)) ? 1 : 0);\r\n    };\r\n\r\n    const savePerson = (event) => {\r\n        event.preventDefault();\r\n        const changedPerson = persons.find(person => person.name === newName);\r\n        if (changedPerson) {\r\n            if (window.confirm(`${changedPerson.name} is already added to phonebook replace the old number with the new one?`)) {\r\n                updatePerson(changedPerson);\r\n            }\r\n        } else {\r\n            createPerson();\r\n        }\r\n    };\r\n\r\n    const getNotificationError = (message) => {\r\n        return {\r\n            type: 'error',\r\n            message: message\r\n        };\r\n    };\r\n\r\n    const getNotificationSuccess = (message) => {\r\n        return {\r\n            type: 'success',\r\n            message: message\r\n        };\r\n    };\r\n\r\n    const createPerson = () => {\r\n        const newPerson = {\r\n            name: newName.trim(),\r\n            number: newNumber.trim()\r\n        };\r\n        phoneBookService.create(newPerson).then(addedPerson => {\r\n            setPersons(persons.concat(addedPerson));\r\n            setNewName('');\r\n            setNewNumber('');\r\n            notify(getNotificationSuccess(`${addedPerson.name} was successfully added to PhoneBook!`));\r\n        }).catch(error => {\r\n            notify(getNotificationError(error.response.data.error));\r\n        });\r\n    };\r\n\r\n    const updatePerson = (changedPerson) => {\r\n        changedPerson.number = newNumber.trim();\r\n        phoneBookService.update(changedPerson.id, changedPerson).then(updatePerson => {\r\n            setPersons([...persons].map(person => person.id !== updatePerson.id ? person : updatePerson));\r\n            setNewName('');\r\n            setNewNumber('');\r\n            notify(getNotificationSuccess(`${updatePerson.name} was successfully updated!`));\r\n        }).catch(() => {\r\n            notify(getNotificationError(`${changedPerson.name} is already removed from PhoneBook!`));\r\n        });\r\n    };\r\n\r\n    const deletePerson = id => {\r\n        const personToDelete = persons.find(person => person.id === id);\r\n        if (window.confirm(`Do you really want to delete ${personToDelete.name}?`)) {\r\n            phoneBookService.deletePerson(id).then(() => {\r\n                setPersons([...persons].filter(person => person.id !== id));\r\n                notify(getNotificationSuccess(`${personToDelete.name} was successfully removed from PhoneBook!`));\r\n            }).catch(() => {\r\n                notify(getNotificationError('This person is already removed from PhoneBook!'));\r\n            });\r\n        }\r\n    };\r\n\r\n    const formSubmissionIsDisabled = () => {\r\n        return (isBlank(newName) || isBlank(newNumber));\r\n    };\r\n\r\n    return (\r\n        <>\r\n            <h1>Phonebook</h1>\r\n            <Notification notification={notification} />\r\n            <Filter filter={filter} handleFilterChange={handleFilterChange} />\r\n            <h2>Add New</h2>\r\n            <PersonForm submission={savePerson} isDisabled={formSubmissionIsDisabled()} newName={newName} newNumber={newNumber} nameChange={handleNewNameChange} numberChange={handleNewNumberChange} />\r\n            <h2>Numbers</h2>\r\n            <Persons persons={filterPersons()} deletePerson={deletePerson} />\r\n        </>\r\n    );\r\n};\r\n\r\nexport default App;","import React from 'react';\r\nimport ReactDOM from 'react-dom';\r\nimport App from './App';\r\nimport './index.css';\r\nReactDOM.render(<App />, document.getElementById('root'));\r\n"],"sourceRoot":""}