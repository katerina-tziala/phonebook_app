{"version":3,"sources":["components/Filter.js","components/Button.js","components/Person.js","components/Persons.js","components/PersonForm.js","services/phonebookService.js","App.js","index.js"],"names":["Filter","props","value","filter","onChange","handleFilterChange","Button","onClick","handleClick","text","Person","person","deletePerson","name","number","id","Persons","persons","map","key","PersonForm","onSubmit","submission","newName","nameChange","newNumber","numberChange","type","disabled","isDisabled","baseUrl","axios","get","then","response","data","newObject","post","delete","App","useState","setPersons","setNewName","setNewNumber","setFilter","useEffect","phoneBookService","initialPersons","isBlank","str","test","personName","toLowerCase","event","target","preventDefault","some","window","confirm","addedPerson","concat","newPersonsList","includes","sort","personA","personB","filterPersons","find","ReactDOM","render","document","getElementById"],"mappings":"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","file":"static/js/main.d92cf06e.chunk.js","sourcesContent":["import React from 'react';\n\nconst Filter = (props) => {\n    return (\n        <>\n            <span>filter shown with: </span>\n            <input value={props.filter} onChange={props.handleFilterChange} />\n        </>\n    )\n};\n\nexport default Filter;","import React from 'react';\n\nconst Button = (props) => (\n    <button onClick={props.handleClick}>\n        {props.text}\n    </button>\n);\n\nexport default Button;","import React from 'react';\nimport Button from \"./Button\";\n\nconst Person = ({ person , deletePerson }) => {\n    return (\n        <div>\n            <span>{person.name}  {person.number}</span>\n            <Button handleClick={() => deletePerson(person.id)} text=\"delete\" />\n        </div>\n        \n    )\n};\n\nexport default Person;","import React from 'react';\nimport Person from './Person';\n\nconst Persons = ({ persons, deletePerson }) => {\n    const displayPersons = () => persons.map(person => <Person key={person.id} person={person} deletePerson={deletePerson} />);\n    return (\n        <div>\n            {displayPersons()}\n        </div>\n    )\n};\n\nexport default Persons;","import React from 'react';\n\nconst PersonForm = (props) => {\n    return (\n        <form onSubmit={props.submission}>\n            <div>\n                <span>name: </span>\n                <input value={props.newName} onChange={props.nameChange} />\n            </div>\n            <div>\n                <span>number: </span>\n                <input value={props.newNumber} onChange={props.numberChange} />\n            </div>\n            <div>\n                <button type=\"submit\" disabled={props.isDisabled}>add</button>\n            </div>\n        </form>\n    )\n};\n\nexport default PersonForm;","import axios from 'axios';\nconst baseUrl = '/api/persons';\n\nconst getAll = () => {\n  const request = axios.get(baseUrl);\n  return request.then(response => response.data);\n}\n\nconst create = newObject => {\n  const request = axios.post(baseUrl, newObject);\n  return request.then(response => response.data);\n}\n\nconst deletePerson = id => {\n  const request = axios.delete(`${baseUrl}/${id}`);\n  return request.then(response => response);\n}\n\nconst update = (id, newObject) => {\n  const request = axios.put(`${baseUrl}/${id}`, newObject);\n  return request.then(response => response.data);\n}\n\nexport default {getAll, create, deletePerson, update}","import React, { useState, useEffect } from 'react';\nimport Filter from './components/Filter';\nimport Persons from './components/Persons';\nimport PersonForm from './components/PersonForm';\nimport phoneBookService from './services/phonebookService';\n\nconst App = () => {\n  const [persons, setPersons] = useState([]);\n  const [ newName, setNewName ] = useState('');\n  const [ newNumber, setNewNumber ] = useState('');\n  const [ filter, setFilter ] = useState('');\n  \n  useEffect(() => {\n    phoneBookService.getAll().then(initialPersons => setPersons(initialPersons));\n  }, [])\n\n  const handleFilterChange = (event) => setFilter(event.target.value);\n  const handleNewNameChange = (event) => setNewName(event.target.value);\n  const handleNewNumberChange = (event) => setNewNumber(event.target.value);\n\n  const isBlank = (str) => !str || /^\\s*$/.test(str);\n  const personName = (person) => person.name.toLowerCase();\n\n  const filterPersons = () => {\n    let newPersonsList = [...persons];\n    if (!isBlank(filter)) {\n      newPersonsList = [...persons].filter(person => personName(person).includes(filter.toLowerCase()));\n    }\n    return newPersonsList.sort((personA, personB) => (personName(personA) < personName(personB)) ? -1 : (personName(personA) > personName(personB)) ? 1 : 0);\n  };\n  \n  const addPerson = (event) => {\n    event.preventDefault()\n    if (persons.some(person => person.name === newName)) {\n      if (window.confirm(`${newName} is already added to phonebook replace the old number with the new one?`)) { \n        // const changedPerson = { ...persons.find(person => person.name === newName), number: newNumber };\n        // phoneBookService.update(changedPerson.id, changedPerson).then(updatePerson => {\n        //   setPersons([...persons].map(person => person.id !== updatePerson.id ? person : updatePerson));\n        //   setNewName('');\n        //   setNewNumber('');\n        // });\n      }\n    } else {\n      const newPerson = {\n        name: newName,\n        number: newNumber\n      };\n      phoneBookService.create(newPerson).then(addedPerson => {\n        setPersons(persons.concat(addedPerson));\n        setNewName('');\n        setNewNumber('');\n      });\n    }\n  };\n\n  const deletePerson = id => {\n    if (window.confirm(`Do you really want to delete ${persons.find(person => person.id === id).name}?`)) { \n      phoneBookService.deletePerson(id).then(() => {\n        setPersons([...persons].filter(person => person.id !== id));\n      });\n    }\n  }\n\n  const formSubmissionIsDisabled = () => {\n   return (isBlank(newName) || isBlank(newNumber));\n  };\n\n  return (\n    <>\n      <h1>Phonebook</h1>\n      <Filter filter={filter} handleFilterChange={handleFilterChange} />\n      <h2>Add New</h2>\n      <PersonForm submission={addPerson} isDisabled={formSubmissionIsDisabled()} newName={newName} newNumber={newNumber} nameChange={handleNewNameChange} numberChange={handleNewNumberChange}/>\n      <h2>Numbers</h2>\n      <Persons persons={filterPersons()} deletePerson={deletePerson} />\n    </>\n  )\n}\n\nexport default App;","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport App from './App';\n\nReactDOM.render(<App />, document.getElementById('root'));\n"],"sourceRoot":""}