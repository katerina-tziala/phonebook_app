{"version":3,"sources":["components/Filter.js","components/Button.js","components/Person.js","components/Persons.js","components/PersonForm.js","components/Notification.js","services/phonebookService.js","App.js","index.js"],"names":["Filter","props","value","filter","onChange","handleFilterChange","Button","onClick","handleClick","text","Person","person","deletePerson","name","number","id","Persons","persons","map","key","PersonForm","onSubmit","submission","newName","nameChange","newNumber","numberChange","type","disabled","isDisabled","Notification","notification","className","message","baseUrl","axios","get","then","response","data","newObject","post","delete","put","App","useState","setPersons","setNewName","setNewNumber","setFilter","undefined","setNotification","notify","setTimeout","useEffect","phoneBookService","initialPersons","isBlank","str","test","personName","toLowerCase","getNotificationError","getNotificationSuccess","createPerson","newPerson","trim","addedPerson","concat","catch","error","updatePerson","changedPerson","event","target","preventDefault","find","window","confirm","newPersonsList","includes","sort","personA","personB","filterPersons","personToDelete","ReactDOM","render","document","getElementById"],"mappings":"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","file":"static/js/main.f22ba0a0.chunk.js","sourcesContent":["import React from 'react';\n\nconst Filter = (props) => {\n    return (\n        <>\n            <span>filter shown with: </span>\n            <input value={props.filter} onChange={props.handleFilterChange} />\n        </>\n    );\n};\n\nexport default Filter;","import React from 'react';\n\nconst Button = (props) => (\n    <button onClick={props.handleClick}>\n        {props.text}\n    </button>\n);\n\nexport default Button;","import React from 'react';\nimport Button from './Button';\n\nconst Person = ({ person , deletePerson }) => {\n    return (\n        <div>\n            <span>{person.name}  {person.number}</span>\n            <Button handleClick={() => deletePerson(person.id)} text='delete' />\n        </div>\n    );\n};\n\nexport default Person;","import React from 'react';\nimport Person from './Person';\n\nconst Persons = ({ persons, deletePerson }) => {\n    const displayPersons = () => persons.map(person => <Person key={person.id} person={person} deletePerson={deletePerson} />);\n    return (\n        <div>\n            {displayPersons()}\n        </div>\n    );\n};\n\nexport default Persons;","import React from 'react';\n\nconst PersonForm = (props) => {\n    return (\n        <form onSubmit={props.submission}>\n            <div>\n                <span>name: </span>\n                <input value={props.newName} onChange={props.nameChange} />\n            </div>\n            <div>\n                <span>number: </span>\n                <input value={props.newNumber} onChange={props.numberChange} />\n            </div>\n            <div>\n                <button type=\"submit\" disabled={props.isDisabled}>add</button>\n            </div>\n        </form>\n    );\n};\n\nexport default PersonForm;","import React from 'react';\r\n\r\nconst Notification = ({ notification }) => {\r\n    if (!notification) {\r\n        return null;\r\n    }\r\n    const className = `notification notification--${notification.type}`;\r\n    return (\r\n        <p className={className}>{notification.message}</p>\r\n    );\r\n};\r\n\r\nexport default Notification;","import axios from 'axios';\nconst baseUrl = 'api/persons';\n// const baseUrl = 'http://localhost:3001/api/persons';\n// const baseUrl = 'https://phonebook-app-kt.herokuapp.com/api/persons';\n\nconst getAll = () => {\n    const request = axios.get(baseUrl);\n    return request.then(response => response.data);\n};\n\nconst create = newObject => {\n    const request = axios.post(baseUrl, newObject);\n    return request.then(response => response.data);\n};\n\nconst deletePerson = id => {\n    const request = axios.delete(`${baseUrl}/${id}`);\n    return request.then(response => response);\n};\n\nconst update = (id, newObject) => {\n    const request = axios.put(`${baseUrl}/${id}`, newObject);\n    return request.then(response => response.data);\n};\n\nexport default { getAll, create, deletePerson, update };","import React, { useState, useEffect } from 'react';\nimport Filter from './components/Filter';\nimport Persons from './components/Persons';\nimport PersonForm from './components/PersonForm';\nimport Notification from './components/Notification';\nimport phoneBookService from './services/phonebookService';\n\nconst App = () => {\n    const [persons, setPersons] = useState([]);\n    const [newName, setNewName] = useState('');\n    const [newNumber, setNewNumber] = useState('');\n    const [filter, setFilter] = useState('');\n    const [notification, setNotification] = useState(undefined);\n\n    const notify = (notification) => {\n        setNotification(notification);\n        setTimeout(() => setNotification(undefined), 5000);\n    };\n\n    useEffect(() => {\n        phoneBookService.getAll().then(initialPersons => setPersons(initialPersons));\n    }, []);\n\n    const handleFilterChange = (event) => setFilter(event.target.value);\n    const handleNewNameChange = (event) => setNewName(event.target.value);\n    const handleNewNumberChange = (event) => setNewNumber(event.target.value);\n\n    const isBlank = (str) => !str || /^\\s*$/.test(str);\n    const personName = (person) => person.name.toLowerCase();\n\n    const filterPersons = () => {\n        let newPersonsList = [...persons];\n        if (!isBlank(filter)) {\n            newPersonsList = [...persons].filter(person => personName(person).includes(filter.toLowerCase()));\n        }\n        return newPersonsList.sort((personA, personB) => (personName(personA) < personName(personB)) ? -1 : (personName(personA) > personName(personB)) ? 1 : 0);\n    };\n\n    const savePerson = (event) => {\n        event.preventDefault();\n        const changedPerson = persons.find(person => person.name === newName);\n        if (changedPerson) {\n            if (window.confirm(`${changedPerson.name} is already added to phonebook replace the old number with the new one?`)) {\n                updatePerson(changedPerson);\n            }\n        } else {\n            createPerson();\n        }\n    };\n\n    const getNotificationError = (message) => {\n        return {\n            type: 'error',\n            message: message\n        };\n    };\n\n    const getNotificationSuccess = (message) => {\n        return {\n            type: 'success',\n            message: message\n        };\n    };\n\n    const createPerson = () => {\n        const newPerson = {\n            name: newName.trim(),\n            number: newNumber.trim()\n        };\n        phoneBookService.create(newPerson).then(addedPerson => {\n            setPersons(persons.concat(addedPerson));\n            setNewName('');\n            setNewNumber('');\n            notify(getNotificationSuccess(`${addedPerson.name} was successfully added to PhoneBook!`));\n        }).catch(error => {\n            notify(getNotificationError(error.response.data.error));\n        });\n    };\n\n    const updatePerson = (changedPerson) => {\n        changedPerson.number = newNumber.trim();\n        phoneBookService.update(changedPerson.id, changedPerson).then(updatePerson => {\n            setPersons([...persons].map(person => person.id !== updatePerson.id ? person : updatePerson));\n            setNewName('');\n            setNewNumber('');\n            notify(getNotificationSuccess(`${updatePerson.name} was successfully updated!`));\n        }).catch(() => {\n            notify(getNotificationError(`${changedPerson.name} is already removed from PhoneBook!`));\n        });\n    };\n\n    const deletePerson = id => {\n        const personToDelete = persons.find(person => person.id === id);\n        if (window.confirm(`Do you really want to delete ${personToDelete.name}?`)) {\n            phoneBookService.deletePerson(id).then(() => {\n                setPersons([...persons].filter(person => person.id !== id));\n                notify(getNotificationSuccess(`${personToDelete.name} was successfully removed from PhoneBook!`));\n            }).catch(() => {\n                notify(getNotificationError('This person is already removed from PhoneBook!'));\n            });\n        }\n    };\n\n    const formSubmissionIsDisabled = () => {\n        return (isBlank(newName) || isBlank(newNumber));\n    };\n\n    return (\n        <>\n            <h1>Phonebook</h1>\n            <Notification notification={notification} />\n            <Filter filter={filter} handleFilterChange={handleFilterChange} />\n            <h2>Add New</h2>\n            <PersonForm submission={savePerson} isDisabled={formSubmissionIsDisabled()} newName={newName} newNumber={newNumber} nameChange={handleNewNameChange} numberChange={handleNewNumberChange} />\n            <h2>Numbers</h2>\n            <Persons persons={filterPersons()} deletePerson={deletePerson} />\n        </>\n    );\n};\n\nexport default App;","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport App from './App';\nimport './index.css';\nReactDOM.render(<App />, document.getElementById('root'));\n"],"sourceRoot":""}